from flask import Flask
import feedparser

app = Flask(__name__)

@app.route('/')
def home():
    hongminyeong_blog_rss_url = "https://0boss.tistory.com/rss"
    rss_feed = feedparser.parse(hongminyeong_blog_rss_url)

    MAX_POST_NUM = 5
    latest_blog_post_list = ""

    for idx, feed in enumerate(rss_feed['entries']):
        if idx >= MAX_POST_NUM:
            break
        feed_date = feed['published_parsed']
        latest_blog_post_list += f"<li>{feed_date.tm_year}.{feed_date.tm_mon}.{feed_date.tm_mday} - <a href='{feed['link']}'>{feed['title']}</a></li>\n"

    return f"<h1>Latest Blog Posts</h1><ul>{latest_blog_post_list}</ul>"

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000)
